<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<meta name = "format-detection" content = "telephone=no">
<title></title>
<script src="js/custom.modernizr.min.js"></script>
<link rel="stylesheet" href="css/jquery.parallux.min.css">
<link rel="stylesheet" href="css/aos.css" />
<link rel="stylesheet" href="css/base.css">
<link rel="stylesheet" href="css/home.css">
<style>
</style>
<script>
    (function(win,doc){
		function change(){
			doc.documentElement.style.fontSize=doc.documentElement.clientWidth/720*20+'px';
		}		
		change();
		win.addEventListener('resize',change,false);
	})(window,document);
</script>
</head>
<body>
<div class="parallux">
    <div class="parallux-bg fixed">
        <div class="parallux-inner dark bg-header">
            <canvas id="canvas">
                
            </canvas>
            <img src="img/zm-logo.png" alt="" class="logo" aos="zoom-in-up" aos-easing="ease" aos-delay="400">
            <img src="img/logo.png" alt="" class="s-logo">
        </div>
    </div>
</div>
<div class="sectionCon">
	<section class="separator">
        <div class="s-c">
            <img src="img/about.png" alt="" class="about">
            <img src="img/d-1.png" alt="" class="img2" aos="fade-down">
            <p>一家专注于医美的第三方平台，以国内外大型整形、医疗机构为依托。自成立之日起，以团队的专业知识为指导，以成为最有公信力的医美第三方平台、做客户身边最坚定的后盾为己任，一直兢兢业业地服务客户，获得客户的深度好评。</p>
        </div>
        <div class="show clearfix">
                <a href="javascript:;"><img src="img/show-1.png" alt=""></a>
                <a href="javascript:;"><img src="img/show-2.png" alt=""></a>
                <a href="javascript:;"><img src="img/show-3.png" alt=""></a>
        </div>
    </section>
    <div class="business">
        <div class="b-c">
            <img src="img/b-log.png" alt="" class="b-log">
            <img aos="zoom-in" src="img/bs.jpg" class="img1"alt="">
            <img src="img/b-icon.png" class="b-icon" alt="" aos="fade-down">
            <p class="b-msg" aos="fade-up" aos-easing="ease" aos-delay="400">为18岁至35岁的女性提供免费、团购和分期的整形服务，为25岁以上女性提供健康及抗衰老服务<br>
致力于全球女性用户的美丽与健康。
<br> 
<br>    
<br>    

改变千人一面，追求个性化定制，帮助求美者找到与之相匹配的医院和医生资源。</p>
        </div>
    </div>
    <div class="join">
        <div class="j-c">
            <img src="img/join.png" alt="" class="j-log" >
            <img src="img/b-icon.png" alt="" class="j-icon" aos="fade-down">
            <div>
                <img src="img/2wm.png" alt="" class="j-2wm">
                <img src="img/ios.png" alt="" class="ios">
                <img src="img/2wm.png" alt="" class="j-2wm j-2wm-l">
            </div>
        </div>
    </div>
</div>
<footer>
    <div class="f-c">
        <ul>
            <li class="clearfix">
                <div><img src="img/tel.png" alt="" class="fl"></div>
                <p>010-56029359</p>
            </li>
            <li class="clearfix">
                <div><img src="img/point.png" alt="" class="fl"></div>
                <p>010-56029359</p>
            </li>
        </ul>
        <h2>北京市环球致美科技有限公司</h2>
    </div>
</footer>
<script src="js/jquery.min.js"></script>
<script src="js/aos.js"></script>
<script type="text/javascript">
    AOS.init({
        easing: 'ease-out-back',
        duration: 1000
    });
</script>

<script src="js/jquery.parallux.js"></script>
<script>
$(function(){
	$(".parallux").parallux({
		fullHeight:false,
		onMobile:'fixed'
	});
});
</script>
<script>
    function Vector(x, y, z) {
    this.x = x || 0;
    this.y = y || 0;
    this.z = z || 0;
}

Vector.prototype = {
    negative: function() {
        return new Vector(-this.x, -this.y, -this.z);
    },
    add: function(v) {
        if (v instanceof Vector) return new Vector(this.x + v.x, this.y + v.y, this.z + v.z);
        else return new Vector(this.x + v, this.y + v, this.z + v);
    },
    subtract: function(v) {
        if (v instanceof Vector) return new Vector(this.x - v.x, this.y - v.y, this.z - v.z);
        else return new Vector(this.x - v, this.y - v, this.z - v);
    },
    multiply: function(v) {
        if (v instanceof Vector) return new Vector(this.x * v.x, this.y * v.y, this.z * v.z);
        else return new Vector(this.x * v, this.y * v, this.z * v);
    },
    divide: function(v) {
        if (v instanceof Vector) return new Vector(this.x / v.x, this.y / v.y, this.z / v.z);
        else return new Vector(this.x / v, this.y / v, this.z / v);
    },
    equals: function(v) {
        return this.x == v.x && this.y == v.y && this.z == v.z;
    },
    dot: function(v) {
        return this.x * v.x + this.y * v.y + this.z * v.z;
    },
    cross: function(v) {
        return new Vector(
            this.y * v.z - this.z * v.y,
            this.z * v.x - this.x * v.z,
            this.x * v.y - this.y * v.x
        );
    },
    length: function() {
        return Math.sqrt(this.dot(this));
    },
    unit: function() {
        return this.divide(this.length());
    },
    min: function() {
        return Math.min(Math.min(this.x, this.y), this.z);
    },
    max: function() {
        return Math.max(Math.max(this.x, this.y), this.z);
    },
    toAngles: function() {
        var phi = Math.atan2(this.y , this.x);
        if(phi<0){
            phi = phi + Math.PI * 2;
        }
        return {
            theta: Math.acos(this.z/this.length()),
            phi: phi
        };
    },
    angleTo: function(a) {
        return Math.acos(this.dot(a) / (this.length() * a.length()));
    },
    toArray: function(n) {
        return [this.x, this.y, this.z].slice(0, n || 3);
    },
    clone: function() {
        return new Vector(this.x, this.y, this.z);
    },
    init: function(x, y, z) {
        this.x = x; this.y = y; this.z = z;
        return this;
    }
};

Vector.negative = function(a, b) {
    b.x = -a.x; b.y = -a.y; b.z = -a.z;
    return b;
};
Vector.add = function(a, b, c) {
    if (b instanceof Vector) { c.x = a.x + b.x; c.y = a.y + b.y; c.z = a.z + b.z; }
    else { c.x = a.x + b; c.y = a.y + b; c.z = a.z + b; }
    return c;
};
Vector.subtract = function(a, b, c) {
    if (b instanceof Vector) { c.x = a.x - b.x; c.y = a.y - b.y; c.z = a.z - b.z; }
    else { c.x = a.x - b; c.y = a.y - b; c.z = a.z - b; }
    return c;
};
Vector.multiply = function(a, b, c) {
    if (b instanceof Vector) { c.x = a.x * b.x; c.y = a.y * b.y; c.z = a.z * b.z; }
    else { c.x = a.x * b; c.y = a.y * b; c.z = a.z * b; }
    return c;
};
Vector.divide = function(a, b, c) {
    if (b instanceof Vector) { c.x = a.x / b.x; c.y = a.y / b.y; c.z = a.z / b.z; }
    else { c.x = a.x / b; c.y = a.y / b; c.z = a.z / b; }
    return c;
};
Vector.cross = function(a, b, c) {
    c.x = a.y * b.z - a.z * b.y;
    c.y = a.z * b.x - a.x * b.z;
    c.z = a.x * b.y - a.y * b.x;
    return c;
};
Vector.unit = function(a, b) {
    var length = a.length();
    b.x = a.x / length;
    b.y = a.y / length;
    b.z = a.z / length;
    return b;
};
Vector.fromAngles = function(theta, phi) {
    return new Vector(Math.cos(theta) * Math.cos(phi), Math.sin(phi), Math.sin(theta) * Math.cos(phi));
};
Vector.randomDirection = function() {
    return Vector.fromAngles(Math.random() * Math.PI * 2, Math.asin(Math.random() * 2 - 1));
};
Vector.min = function(a, b) {
    return new Vector(Math.min(a.x, b.x), Math.min(a.y, b.y), Math.min(a.z, b.z));
};
Vector.max = function(a, b) {
    return new Vector(Math.max(a.x, b.x), Math.max(a.y, b.y), Math.max(a.z, b.z));
};
Vector.lerp = function(a, b, fraction) {
    return b.subtract(a).multiply(fraction).add(a);
};
Vector.fromArray = function(a) {
    return new Vector(a[0], a[1], a[2]);
};
Vector.angleBetween = function(a, b) {
    return a.angleTo(b);
};
 
var util = {
    norm: function (value, min, max) {
        return (value - min) / (max - min);
    },
    lerp: function (norm, min, max) {
        return min + norm * (max - min);
    },
    map: function (value, sourceMin, sourceMax, destMin, destMax) {
        return this.lerp(this.norm(value, sourceMin, sourceMax), destMin, destMax);
    },
    clamp: function (value, min, max) {
        return Math.min(Math.max(value, min), max);
    },
    distance: function (x0, y0, x1, y1) {
        var dx = x0 - x1;
        var dy = y0 - y1;
        return Math.sqrt(dx * dx + dy * dy);
    },
    randomRange: function (min, max) {
        return min + Math.random() * (max - min);
    },
    randomInt: function (min, max) {
        return Math.floor(min + Math.random() * (max - min + 1));
    },
    degreesToRads: function (degrees) {
        return degress / 180 * Math.PI
    },
    radsToDegrees: function (radians) {
        return radians * 180 / Math.PI;
    },
    roundToPlaces: function (value, places) {
        var mult = Math.pow(10, places);
        return Math.round(value * mult) / mult;
    },
    roundNearest: function (value, nearest) {
        return Math.round(value / nearest) * nearest;
    }
};


    var canvas = document.getElementById("canvas");
    console.log(canvas);
    var context = canvas.getContext("2d");
    var width = canvas.width = window.innerWidth;
    var height = canvas.height = window.innerHeight;
    var CenterX = width / 2;
    var CenterY = height / 2;


    var dotImageList = [];
    for(var i = 1; i <= 4; i++){
        var dotImage = new Image();
        dotImage.src = "img/" + i + ".png";
        dotImageList.push(dotImage);
    }

    var sphereRad = 130;
    var fLen = 300;
    var maxParticle = 400;
    var turnSpeed = 0.005;
    var particles = [];

    var Particle = function (add) {
        var theta;
        if (add === true) {
            theta = Math.PI / 2;
        } else {
            theta = Math.random() * Math.PI;
        }
        this.distPos = {
            theta: theta,
            phi: 2 * Math.random() * Math.PI
        };

        this.distPos.x = sphereRad * Math.sin(this.distPos.theta) * Math.cos(this.distPos.phi);
        this.distPos.y = sphereRad * Math.sin(this.distPos.theta) * Math.sin(this.distPos.phi);
        this.distPos.z = sphereRad * Math.cos(this.distPos.theta);
        this.distVec = new Vector(this.distPos.x, this.distPos.y, this.distPos.z);
        this.unitVec = this.distVec.unit();

        var startMult = 1 + Math.random() * 2;
        this.startVec = this.distVec.multiply(startMult);
        this.x = this.startVec.x;
        this.y = this.startVec.y;
        this.z = this.startVec.z;

        this.veloRate = 1 + Math.random() * 1;
        this.velo = this.unitVec.negative().multiply(this.veloRate);
        this.finalVelo = 0;
        this.m = fLen / (fLen - this.z);

        this.age = this.life = 50 + Math.floor(Math.random() * 500);
        this.proj = {};
        this.turnAngle = 0;
        this.wanderTime = 200;
        this.radius = 1 + Math.random() * 3;


        var colorRandom = Math.floor(Math.random() * 4);
        if (colorRandom === 0) {
            this.img = dotImageList[0];
            // this.color = "rgba(255,255,140,";
        } else if(colorRandom === 1){
            this.img = dotImageList[1];
            // this.color = "rgba(255,255,255,";
        } else if(colorRandom === 2){
            this.img = dotImageList[2];
        } else if(colorRandom === 3){
            this.img = dotImageList[3];
        }
    };

    Particle.prototype.update = function () {
        this.nowPos = new Vector(this.x, this.y, this.z);
        this.nowPosUnit = this.nowPos.unit();

        if (this.wanderTime > 0 && this.nowPos.length() > (sphereRad * 1.2)) {
            this.wanderTime--;
            this.velo.x += 0.1 * (Math.random() * 2 - 1);
            this.velo.y += 0.1 * (Math.random() * 2 - 1);
            this.velo.z += 0.1 * (Math.random() * 2 - 1);
            this.x = this.x + this.velo.x;
            this.y = this.y + this.velo.y;
            this.z = this.z + this.velo.z;
            this.op = util.map(this.nowPos.length(), sphereRad, this.startVec.length(), 1, 0);

        }

        else if (this.nowPos.length() > sphereRad) {
            if(this.finalPos ===0){
                this.finalPos = this.nowPosUnit.multiply(sphereRad);
            }
            if(this.finalVelo === 0){
                this.finalVelo = this.nowPosUnit.negative().multiply(this.veloRate);
            }
            this.x = this.x + this.finalVelo.x;
            this.y = this.y + this.finalVelo.y;
            this.z = this.z + this.finalVelo.z;
            this.op = util.map(this.nowPos.length(), sphereRad, this.startVec.length(), 1, 0);
        }


        else {
            this.op = this.life / (this.age / 2);
            this.turnAngle = (this.turnAngle + turnSpeed) % (Math.PI * 2);
            var cosAngle = Math.cos(turnSpeed);
            var sinAngle = Math.sin(turnSpeed);
            this.x = cosAngle * this.nowPos.x + sinAngle * this.nowPos.z;
            this.z = -sinAngle * this.nowPos.x + cosAngle * this.nowPos.z;
            this.y = this.nowPos.y;
            this.life--;
        }

        this.m = fLen / (fLen - this.z);
    };


    function loop() {
        context.clearRect(0, 0, width, height);
        if (particles.length < maxParticle) {
            var p = new Particle();
            particles.push(p);
        }
        for (var i = 0; i < particles.length; i++) {
            var p = particles[i];
            if (p.life === 0) {
                particles.splice(i, 1);
                var p = new Particle();
                particles.push(p);
            }

            p.update();

            if (p.m > 0) {
                context.save();
                context.globalAlpha = p.op;
                context.drawImage(p.img,p.x * p.m + CenterX, CenterY - p.y * p.m,p.radius*p.m*2,p.radius*p.m*2);
                context.restore();
//                context.fillStyle = p.color + p.op + ")";
//                context.beginPath();
//                context.arc(p.x * p.m + CenterX, CenterY - p.y * p.m, p.radius * p.m, 0, Math.PI * 2);
//                context.fill();
            }
        }
        requestAnimationFrame(loop);
    }
    loop();
</script>
</body>
</html>
